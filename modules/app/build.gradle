apply plugin: 'application'

dependencies {
    def HAPI = '5.4.2'
    implementation "ca.uhn.hapi.fhir:hapi-fhir-client:${HAPI}"
    implementation "ca.uhn.hapi.fhir:hapi-fhir-structures-r4:${HAPI}"
    //implementation "ca.uhn.hapi.fhir:hapi-fhir-structures-dstu3:${HAPI}"
    implementation 'org.eclipse.jetty:jetty-server:11.0.6'
    implementation 'org.apache.logging.log4j:log4j:2.14.1'
    implementation 'org.apache.logging.log4j:log4j-slf4j18-impl:2.14.1'
    implementation 'org.apache.logging.log4j:log4j-jcl:2.14.1'
}

project.extensions.configure(JavaApplication.class, a -> {
    a.mainClass.set('org.emerse.fhir.Main')
    a.applicationName('emerse-fhir')
})

project.extensions.configure(DistributionContainer, c -> {
    c.getByName('main', d -> {
        d.distributionBaseName.set('emerse-fhir')
    })
})
